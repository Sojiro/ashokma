<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
    <meta name="description" content="As you might have already noticed, I have added an instant night mode option to ashokma.com. It is nothing fancy of sort but it does the job right by ">
    

    <!--Author-->
    
    <meta name="author" content="Ashok M A">
    

    <!--Open Graph Title-->
    
    <meta property="og:title" content="How to add quick night mode to your blog">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="AshKeys">

    <!--Type page-->
    
    <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>How to add quick night mode to your blog - AshKeys</title>

    <link rel="icon" href="/ashkeys.png">

    <!-- Tachyons Core CSS -->
    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    
<script>
  (function (i, s, o, g, r, a, m) {
    i["GoogleAnalyticsObject"] = r;
    (i[r] =
      i[r] ||
      function () {
        (i[r].q = i[r].q || []).push(arguments);
      }),
      (i[r].l = 1 * new Date());
    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  })(
    window,
    document,
    "script",
    "//www.google-analytics.com/analytics.js",
    "ga"
  );

  ga("create", "UA-115413748-1", "auto");
  ga("send", "pageview");
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115413748-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "UA-115413748-1");
</script>


    <!-- Google AdSense -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1544182531179563",
    enable_page_level_ads: true
  });
</script>

</head>

<body>

    <!-- Main Content -->
    <!-- Banner -->
<!-- Banner -->
<div class="w-100 bg-1 ph5-ns ph3 text-light">

    <nav class="db dt-l w-100 mw8 center border-box">
        <a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="AshKeys">
            <img src="/ashkeys.png" class="dib h3" alt="AshKeys">
        </a>
        <div class="db dtc-l v-mid w-100 w-75-l tc tr-l">
            <!-- night-mode -->
<script>
    function toggle(nightMode) {
        nightMode === "true" || nightMode === true ? document.body.classList.add("night-mode") :
            document.body.classList.remove("night-mode");
        window.localStorage.setItem('ashokma.com.nightmode', nightMode);
    }

    toggle(window.localStorage.getItem('ashokma.com.nightmode'));

</script>

<label class="switch link dim f6 f5-l dib mr3 mr4-l white">
    <input type="checkbox" onchange="toggle(this.checked);" id="nightModeIndicator">
    <span class="slider round">
        <i class="fas fa-sun"></i>
        <i class="fas fa-moon"></i>
    </span>
</label>

<script>
    (function () {
        document.getElementById('nightModeIndicator').checked = window.localStorage.getItem('ashokma.com.nightmode') === "true"
    })();
</script>
            
            <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/" title="Home">
                Home
            </a>
            
            <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/archives" title="Archives">
                Archives
            </a>
            
            <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/tags" title="Tags">
                Tags
            </a>
            
            <a class="link dim f6 f5-l dib mr3 mr4-l white" href="/me" title="About">
                About
            </a>
            
        </div>
    </nav>

    <!-- Title -->
    <div class="w-100 mw8 center vh-25 dt">
        <div class="dtc v-mid white">
            <h1 class="f1-l f2-m tc tc-m tl-ns">How to add quick night mode to your blog</h1>
            <p class="f4 fw3 pab-50px tc tc-m tl-ns">2019-09-03</p>
            
        </div>
    </div>
    

    <!-- Icon -->
    <div class="relative w-100 mw8 center white dn dn-m db-ns">
        <i class="header-icon fab fa-css3-alt"></i>
    </div>
</div>

<!-- Content -->
<div class="w-100 ph2 ph4-m ph5-l mv5">
    <div class="content">
        <div class="mw8 center">
            <div class="cf">
                <div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content">
                    <!-- Tags Vertical -->
                    
                        <div class="tags-container-vertical">
                            <div class="tags-sub-container">
                                <a class="fw3 ph1 dib" href="/tags/Blog/">#Blog</a> <a class="fw3 ph1 dib" href="/tags/How-to/">#How to</a> <a class="fw3 ph1 dib" href="/tags/HTML/">#HTML</a> <a class="fw3 ph1 dib" href="/tags/JavaScript/">#JavaScript</a> <a class="fw3 ph1 dib" href="/tags/CSS3/">#CSS3</a>
                            </div>
                        </div>
                    

                    <!-- Main Post Content -->
                    <p>As you might have already noticed, I have added an instant night mode option to <a href="//ashokma.com">ashokma.com</a>. It is nothing fancy of sort but it does the job right by making our eyes ease to read at night +_+</p>
<p>In case you did not notice, here is the quick guide:</p>
<h3 id="Day-Mode"><a href="#Day-Mode" class="headerlink" title="Day Mode:"></a>Day Mode:</h3><p><img src="./ashkeys-instant-nightmode.png" alt="Ashkeys Instant Night Mode" title="Ashkeys Instant Night Mode"></p>
<h3 id="Night-Mode"><a href="#Night-Mode" class="headerlink" title="Night Mode:"></a>Night Mode:</h3><p><img src="./ashkeys-instant-nightmode-on.png" alt="Ashkeys Instant Night Mode On" title="Ashkeys Instant Night Mode On"></p>
<p>Now, lets see how can we do this in a very simple css styles. I have used the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" rel="noopener"><code>filter</code></a> property and <code>invert</code> function to invert the colors totally. Since our site is fully of bright colors already, it totally makes sense and easy to do as we agreed it is an instant one. ^_^</p>
<h2 id="CSS-Part"><a href="#CSS-Part" class="headerlink" title="CSS Part:"></a>CSS Part:</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="comment">// Yes, we need to apply it to the body so that it is for all the pages/sections.</span></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.8s</span>;</span><br><span class="line">  &amp;<span class="selector-class">.night-mode</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">filter</span>: invert(<span class="number">1</span>) hue-rotate(<span class="number">210deg</span>);</span><br><span class="line">    <span class="selector-tag">img</span> &#123;</span><br><span class="line">      <span class="attribute">filter</span>: invert(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We need the night mode but also where people can read the lines without streching their eyes wide. So, I ended up with the above styles. It was challenging to find the perfect one for images though. O_o</p>
<blockquote>
<p><strong>Tip:</strong> Always use some preprocessors like <a href="https://sass-lang.com/" target="_blank" rel="noopener"><code>SASS</code></a> I used here. It saves a lot of time by reducing the duplication and increasing the readability. More over, we can group the styles properly.</p>
</blockquote>
<h2 id="HTML-Part"><a href="#HTML-Part" class="headerlink" title="HTML Part"></a>HTML Part</h2><p>Just a small checkbox (obviously a <a href="/2019/08/26/How-to-create-a-custom-checkbox-with-just-CSS/">custom made</a> one with cute little night mode icons sun/moon) ^_^</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">"checkbox"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">onchange</span>=<span class="string">"toggle(this.checked);"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">"nightModeIndicator"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="JS-Part"><a href="#JS-Part" class="headerlink" title="JS Part"></a>JS Part</h2><p>It is easy to add the class to the body as you already know. But, we need to remember the user selection somewhere so that we can keep track of it between the pages and tabs. For that, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank" rel="noopener"><code>localStorage</code></a> would be the right man for the job.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">nightMode</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/* Yea, this is ugly due to the fact that when we retrieve from localStorage,</span></span><br><span class="line"><span class="comment">   it gives us all as strings. &gt;_O */</span></span><br><span class="line">  nightMode === <span class="string">'true'</span> || nightMode === <span class="literal">true</span></span><br><span class="line">    ? <span class="built_in">document</span>.body.classList.add(<span class="string">'night-mode'</span>)</span><br><span class="line">    : <span class="built_in">document</span>.body.classList.remove(<span class="string">'night-mode'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Do remember to choose a meaningful name under the respective namespace.</span></span><br><span class="line">  <span class="built_in">window</span>.localStorage.setItem(<span class="string">'ashokma.com.nightmode'</span>, nightMode);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">toggle(<span class="built_in">window</span>.localStorage.getItem(<span class="string">'ashokma.com.nightmode'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make sure the below will be called after the night-mode checkbox creation.</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'nightModeIndicator'</span>).checked =</span><br><span class="line">  <span class="built_in">window</span>.localStorage.getItem(<span class="string">'ashokma.com.nightmode'</span>) === <span class="string">'true'</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tip:</strong> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" target="_blank" rel="noopener"><code>sessionStorage</code></a> is also an option if you want to persist the selection per session that is per browser window. As soon as the user closes the tab, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" target="_blank" rel="noopener"><code>sessionStorage</code></a> will be cleared.</p>
</blockquote>

                    
                    <!-- Tags Bottom -->
                    
                        <div class="tags-container-bottom">
                            <i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/Blog/">#Blog</a> <a class="fw3 ph1 dib" href="/tags/How-to/">#How to</a> <a class="fw3 ph1 dib" href="/tags/HTML/">#HTML</a> <a class="fw3 ph1 dib" href="/tags/JavaScript/">#JavaScript</a> <a class="fw3 ph1 dib" href="/tags/CSS3/">#CSS3</a>
                        </div>
                    

                    <!-- Comments -->
                    



                </div>
                <div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50">
                    
                    <hr class="dn-l mw4 black-50 mt5">
                    
                    <!-- Widget 1: About -->
                    <div class="mt5 mt0-l">
    <article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3">
        <div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width: 6rem;">
            <img src="/me/index/avatar.jpeg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="Ashok M A">
        </div>
        <div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">
            <b>About Ashok:</b><br> Started as <code>Java</code> but mutated myself with some frontend scripting skills and boom Javascript guy too. Still evolving in the vast <code>NodeJS</code> eco-system. <ul> <li> Backpacker with a bike </li> <li> Trying hard to be a violinist </li> <li> Reads Medium to know the buzz words and follows developer memes. </li> </ul>
        </div>
    </article>
</div>

                    <hr class="dn-l mw4 black-50 mt5">
                    
                    <!-- Widget 2: Categories -->
                    

                    <!-- Widget 3: Recent Posts -->
                    <div class="mt5 tc tl-l">
    <h3>Recent Posts</h3>
    
        <p>
            <a href="/2021/08/28/Linux-Cheat-Sheet-File-Commands/">Linux Cheat Sheet For File Commands</a>
        </p>
    
        <p>
            <a href="/2021/08/11/How-to-filter-Object-properties-like-arrays-in-JS/">How to filter Object properties like arrays in JS</a>
        </p>
    
        <p>
            <a href="/2021/08/08/Fix-org-springframework-beans-BeanUtils-ignore-null-values-on-copying-properties/">Fix: org.springframework.beans.BeanUtils: ignore n</a>
        </p>
    
        <p>
            <a href="/2021/05/22/How-to-fill-an-array-of-N-numbers-in-JavaScript/">How to fill an array of N numbers in JavaScript</a>
        </p>
    
        <p>
            <a href="/2021/01/15/Fix-state-is-undefined-for-ngrx-store-in-unit-tests/">Fix: state is undefined for @ngrx/store in unit te</a>
        </p>
    
</div>
                </div>
            </div>
        </div>
    </div>
</div>


    <!-- Footer -->
    <div class="bg-1 ph2 ph5-ns pv5">
        <div class="mv8">
            <div class="center tc"><style>
    .bmc-button img {
        width: 27px !important;
        margin-bottom: 1px !important;
        box-shadow: none !important;
        border: none !important;
        vertical-align: middle !important;
    }

    .bmc-button {
        line-height: 36px !important;
        height: 37px !important;
        text-decoration: none !important;
        display: inline-flex !important;
        color: #ffffff !important;
        background-color: transparent !important;
        border-radius: 3px !important;
        border: 1px solid transparent !important;
        padding: 1px 9px !important;
        font-size: 22px !important;
        letter-spacing: 0.6px !important;
        margin: 0 auto !important;
        font-family: 'Cookie', cursive !important;
        -webkit-box-sizing: border-box !important;
        box-sizing: border-box !important;
        -o-transition: 0.3s all linear !important;
        -webkit-transition: 0.3s all linear !important;
        -moz-transition: 0.3s all linear !important;
        -ms-transition: 0.3s all linear !important;
        transition: 0.3s all linear !important;
    }

    .bmc-button:hover,
    .bmc-button:active,
    .bmc-button:focus {
        -webkit-box-shadow: 0px 1px 2px 2px #36b1da !important;
        text-decoration: none !important;
        box-shadow: 0px 1px 2px 2px #36b1da !important;
        opacity: 0.85 !important;
        color: #ffffff !important;
    }
</style>
<link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">
<a class="bmc-button" target="_blank" href="https://buymeacoffee.com/ashkeys">
    <img src="https://bmc-cdn.nyc3.digitaloceanspaces.com/BMC-button-images/BMC-btn-logo.svg" alt="Buy me a coffee...">
    <span style="margin-left:5px">Buy me a coffee...</span>
</a></div>
            <div class="center tc pt2">
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="//twitter.com/AshokMA9" target="_blank">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="//www.linkedin.com/in/ashok-m-a-full-stack-dev/" target="_blank">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="//github.com/Sojiro" target="_blank">
                            <i class="fab fa-github"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="//stackoverflow.com/users/1197396/ashok-m-a" target="_blank">
                            <i class="fab fa-stack-overflow"></i>
                        </a>
                    </div>
                
            </div>
            <div class="f6 f5-ns center tc white pt2 fw3">
                &copy; 2019 Ashok M A | Powered by <a class="link dim white" href="//hexo.io/">Hexo</a>
            </div>
        </div>
    </div>

    <!-- After Footer -->
    <!-- Disqus Comments -->



    <script src="//instant.page/2.0.0" type="module" defer
            integrity="sha384-D7B5eODAUd397+f4zNFAVlnDNDtO1ppV8rPnfygILQXhqu3cUndgHvlcJR2Bhig8"></script>
</body>

</html>
